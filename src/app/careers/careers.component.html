<section class="careers">
  <div class="container">
    <div *ngFor="let job of jobList" class="job-listing">
      <h3>{{ job.jobTitle }}</h3>
      <p><strong>Description:</strong> {{ job.jobDescription }}</p>
      <p><strong>Qualifications:</strong> {{ job.qualification }}</p>
      <p><strong>Skills:</strong> {{ job.skills }}</p>
      <p><strong>Location:</strong> {{ job.location }}</p>
      <p><strong>Start Date:</strong> {{ job.startDate | date: 'dd-MM-yyyy' }}</p>
      <p><strong>End Date:</strong> {{ job.endDate | date: 'dd-MM-yyyy' }}</p>
      <p><strong>Experience:</strong> {{ job.experience }}</p>
      <a (click)="openApplicationForm(job)">Apply Now</a>
    </div>
  </div>
</section>

<!-- Popup form for job application -->
<div id="jobApplicationForm" class="job-application-form">
  <form [formGroup]="jobApplicationForm" (submit)="submitApplication($event, jobApplicationForm)">
    <h2>Job Application</h2>
    
    <label for="name">Name*</label>
    <input type="text" id="name" name="name" formControlName="name" required>
    
    <label for="birthDate">Birth Date*</label>
    <input type="date" id="birthDate" name="birthDate" formControlName="birthDate" required>
    
    <label for="address">Address*</label>
    <input type="text" id="address" name="address" formControlName="address" required>
    
    <label for="state">State*</label>
    <input type="text" id="state" name="state" formControlName="state" required>
    
    <label for="city">City*</label>
    <input type="text" id="city" name="city" formControlName="city" required>
    
    <label for="pincode">Pin Code*</label>
    <input type="number" id="pincode" name="pincode" formControlName="pincode" required>
    
    <label for="email">Email*</label>
    <input type="email" id="email" name="email" formControlName="email" required>
    
    <label for="phone">Phone with STD Code*</label>
    <input type="tel" id="phone" name="phone" pattern="[0-9]{10}" formControlName="phone" required>
    
    <label for="linkedin">LinkedIn*</label>
    <input type="text" id="linkedin" name="linkedin" formControlName="linkedin" >
    
    <label for="howHear">How did you hear about this position? *</label>
    <select id="howHear" name="howHear" formControlName="howHear">
      <option value="website">Website</option>
      <option value="social_media">Social Media</option>
      <option value="referral">Referral</option>
      <option value="other">Other</option>
    </select>
    
    <label for="startDate">Available Start Date*</label>
    <input type="date" id="startDate" name="startDate" formControlName="startDate">
    
    <label for="currentCtc">Current CTC in LPA*</label>
    <input type="number" id="currentCtc" name="currentCtc" formControlName="currentCtc">
    
    <label for="expectedCtc">Expected CTC in LPA*</label>
    <input type="number" id="expectedCtc" name="expectedCtc" formControlName="expectedCtc">
    
    <label for="noticePeriod">Notice Period*</label>
    <input type="text" id="noticePeriod" name="noticePeriod" formControlName="noticePeriod">
    
    <label for="resume">Upload Resume*</label>
    <input type="file" id="resume" name="resume" accept=".pdf,.doc,.docx" (change)="selectFile($event)">
    
    <label for="message">Send message to HR*</label>
    <textarea id="message" name="message" formControlName="message"></textarea>
    
    <label>
      <input type="checkbox" name="declaration" required formControlName="declaration">
      I agree to the terms & conditions*
    </label>
    
    <button type="submit">Submit Application</button>
    <button type="button" (click)="closeApplicationForm()">Close</button>
  </form>
</div>
